{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { types } from \"mobx-state-tree\";\nimport { CharacterModel } from \"../character/character\";\nimport { CharacterApi } from \"../../services/api/character-api\";\nimport { withEnvironment } from \"../extensions/with-environment\";\nexport var CharacterStoreModel = types.model(\"CharacterStore\").props({\n  characters: types.optional(types.array(CharacterModel), [])\n}).extend(withEnvironment).actions(function (self) {\n  return {\n    saveCharacters: function saveCharacters(characterSnapshots) {\n      self.characters.replace(characterSnapshots);\n    }\n  };\n}).actions(function (self) {\n  return {\n    getCharacters: function getCharacters() {\n      var characterApi, result;\n      return _regeneratorRuntime.async(function getCharacters$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              characterApi = new CharacterApi(self.environment.api);\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(characterApi.getCharacters());\n\n            case 3:\n              result = _context.sent;\n\n              if (result.kind === \"ok\") {\n                self.saveCharacters(result.characters);\n              } else {\n                __DEV__ && console.tron.log(result.kind);\n              }\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    }\n  };\n});\nexport var createCharacterStoreDefaultModel = function createCharacterStoreDefaultModel() {\n  return types.optional(CharacterStoreModel, {});\n};","map":{"version":3,"sources":["/Users/juanpimentel/Documents/mviewer/FrontEnd/MasonScan/app/models/character-store/character-store.ts"],"names":["types","CharacterModel","CharacterApi","withEnvironment","CharacterStoreModel","model","props","characters","optional","array","extend","actions","self","saveCharacters","characterSnapshots","replace","getCharacters","characterApi","environment","api","result","kind","__DEV__","console","tron","log","createCharacterStoreDefaultModel"],"mappings":";AAAA,SAAgCA,KAAhC,QAA6C,iBAA7C;AACA,SAASC,cAAT;AACA,SAASC,YAAT;AACA,SAASC,eAAT;AAKA,OAAO,IAAMC,mBAAmB,GAAGJ,KAAK,CACrCK,KADgC,CAC1B,gBAD0B,EAEhCC,KAFgC,CAE1B;AACLC,EAAAA,UAAU,EAAEP,KAAK,CAACQ,QAAN,CAAeR,KAAK,CAACS,KAAN,CAAYR,cAAZ,CAAf,EAA4C,EAA5C;AADP,CAF0B,EAKhCS,MALgC,CAKzBP,eALyB,EAMhCQ,OANgC,CAMxB,UAACC,IAAD;AAAA,SAAW;AAClBC,IAAAA,cAAc,EAAE,wBAACC,kBAAD,EAA6C;AAC3DF,MAAAA,IAAI,CAACL,UAAL,CAAgBQ,OAAhB,CAAwBD,kBAAxB;AACD;AAHiB,GAAX;AAAA,CANwB,EAWhCH,OAXgC,CAWxB,UAACC,IAAD;AAAA,SAAW;AAClBI,IAAAA,aAAa,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AACPC,cAAAA,YADO,GACQ,IAAIf,YAAJ,CAAiBU,IAAI,CAACM,WAAL,CAAiBC,GAAlC,CADR;AAAA;AAAA,+CAEQF,YAAY,CAACD,aAAb,EAFR;;AAAA;AAEPI,cAAAA,MAFO;;AAIb,kBAAIA,MAAM,CAACC,IAAP,KAAgB,IAApB,EAA0B;AACxBT,gBAAAA,IAAI,CAACC,cAAL,CAAoBO,MAAM,CAACb,UAA3B;AACD,eAFD,MAEO;AACLe,gBAAAA,OAAO,IAAIC,OAAO,CAACC,IAAR,CAAaC,GAAb,CAAiBL,MAAM,CAACC,IAAxB,CAAX;AACD;;AARY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADG,GAAX;AAAA,CAXwB,CAA5B;AA4BP,OAAO,IAAMK,gCAAgC,GAAG,SAAnCA,gCAAmC;AAAA,SAAM1B,KAAK,CAACQ,QAAN,CAAeJ,mBAAf,EAAoC,EAApC,CAAN;AAAA,CAAzC","sourcesContent":["import { Instance, SnapshotOut, types } from \"mobx-state-tree\"\nimport { CharacterModel, CharacterSnapshot } from \"../character/character\"\nimport { CharacterApi } from \"../../services/api/character-api\"\nimport { withEnvironment } from \"../extensions/with-environment\"\n\n/**\n * Example store containing Rick and Morty characters\n */\nexport const CharacterStoreModel = types\n  .model(\"CharacterStore\")\n  .props({\n    characters: types.optional(types.array(CharacterModel), []),\n  })\n  .extend(withEnvironment)\n  .actions((self) => ({\n    saveCharacters: (characterSnapshots: CharacterSnapshot[]) => {\n      self.characters.replace(characterSnapshots)\n    },\n  }))\n  .actions((self) => ({\n    getCharacters: async () => {\n      const characterApi = new CharacterApi(self.environment.api)\n      const result = await characterApi.getCharacters()\n\n      if (result.kind === \"ok\") {\n        self.saveCharacters(result.characters)\n      } else {\n        __DEV__ && console.tron.log(result.kind)\n      }\n    },\n  }))\n\ntype CharacterStoreType = Instance<typeof CharacterStoreModel>\nexport interface CharacterStore extends CharacterStoreType {}\ntype CharacterStoreSnapshotType = SnapshotOut<typeof CharacterStoreModel>\nexport interface CharacterStoreSnapshot extends CharacterStoreSnapshotType {}\nexport const createCharacterStoreDefaultModel = () => types.optional(CharacterStoreModel, {})\n"]},"metadata":{},"sourceType":"module"}